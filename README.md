# ğŸš€ TDM (Test Data Management) æ¡†æ¶

## ğŸ“– é¡¹ç›®ä»‹ç»

**TDMæ¡†æ¶**æ˜¯ä¸€ä¸ªåŸºäºSpring Boot + Apache Sparkçš„å¼€æºæµ‹è¯•æ•°æ®ç®¡ç†å¹³å°ï¼Œä¸“ä¸ºæ—¶åºæ•°æ®åˆ†æå’Œé¢‘åŸŸå¤„ç†è€Œè®¾è®¡ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **æ•°æ®æ¹–ç®¡ç†**: åŸºäºMinIOçš„åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨
- **ETLæµæ°´çº¿**: è‡ªåŠ¨åŒ–çš„æ•°æ®æ¸…æ´—å’Œè½¬æ¢
- **å¯æ’æ‹”æ•°æ®ä»“åº“**: æ”¯æŒClickHouseç­‰å¤šç§æ—¶åºæ•°æ®åº“
- **é¢‘åŸŸåˆ†æ**: é›†æˆSpark MLlibçš„FFTåˆ†æèƒ½åŠ›
- **RESTful API**: å®Œæ•´çš„é¡¹ç›®å’Œä»»åŠ¡ç®¡ç†æ¥å£

### ğŸ—ï¸ æŠ€æœ¯æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Client    â”‚â”€â”€â”€â–¶â”‚  Spring Boot API â”‚â”€â”€â”€â–¶â”‚   Apache Spark  â”‚
â”‚   (Swagger UI)  â”‚    â”‚  (tdm-core)      â”‚    â”‚  (tdm-spark)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                        â”‚
                                â–¼                        â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚     MySQL       â”‚    â”‚   ClickHouse    â”‚
                       â”‚   (å…ƒæ•°æ®)       â”‚    â”‚   (æ—¶åºæ•°æ®)     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â–²
                                                        â”‚
                                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                               â”‚      MinIO      â”‚
                                               â”‚    (æ•°æ®æ¹–)      â”‚
                                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Š æ•°æ®æµç¨‹
1. **ä¸Šä¼ **: CSVæ–‡ä»¶ â†’ MinIOæ•°æ®æ¹–
2. **ETL**: Sparkè‡ªåŠ¨æ¸…æ´— â†’ ClickHouseæ—¶åºåº“
3. **åˆ†æ**: FFTé¢‘åŸŸåˆ†æ â†’ ç»“æœå­˜å‚¨
4. **æŸ¥è¯¢**: RESTful APIè·å–åˆ†æç»“æœ

### âœ… å½“å‰å®ç°çŠ¶æ€
- âœ… é¡¹ç›®å’Œä»»åŠ¡ç®¡ç†API
- âœ… MinIOæ–‡ä»¶ä¸Šä¼ 
- âœ… è‡ªåŠ¨å»ºè¡¨å’ŒETLæµæ°´çº¿
- âœ… å¯æ’æ‹”æ•°æ®ä»“åº“æ¶æ„
- âœ… FFTé¢‘åŸŸåˆ†æ
- âœ… å®Œæ•´çš„é—­ç¯æ•°æ®å¤„ç†
- -[ ] å‰ç«¯é¡µé¢æ•°æ®å¯è§†åŒ–
- -[ ] æ›´å¤šåˆ†æç®—æ³•é›†æˆ
- -[ ] æ•°æ®è¡¨ç»“æ„è°ƒæ•´ï¼Œæ•°æ®èšåˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Java 17+
- Maven 3.6+
- Docker & Docker Compose
- Apache Spark 3.5.1
- Click House
- Minio

### å¯åŠ¨æœåŠ¡
```bash
# 1. å¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose up -d

# 2. ç¼–è¯‘é¡¹ç›®
mvn clean package

# 3. å¯åŠ¨æ ¸å¿ƒæœåŠ¡
java -jar tdm-core-service/target/tdm-core-service-0.0.1.jar
```

### APIä½¿ç”¨ç¤ºä¾‹
```bash
# åˆ›å»ºé¡¹ç›®
curl -X POST http://localhost:8080/api/v1/projects \
  -H "Content-Type: application/json" \
  -d '{"name":"æµ‹è¯•é¡¹ç›®","description":"FFTåˆ†ææµ‹è¯•"}'

# åˆ›å»ºä»»åŠ¡
curl -X POST http://localhost:8080/api/v1/tasks \
  -H "Content-Type: application/json" \
  -d '{"name":"ä¿¡å·åˆ†æ","projectId":1}'

# ä¸Šä¼ æ•°æ®æ–‡ä»¶
curl -X POST http://localhost:8080/api/v1/tasks/1/upload-raw-file \
  -F "file=@sample_signal_data.csv"

# è¿è¡ŒETL
curl -X POST http://localhost:8080/api/v1/tasks/1/run-etl

# è¿è¡ŒFFTåˆ†æ
curl -X POST http://localhost:8080/api/v1/tasks/1/run-analysis \
  -H "Content-Type: application/json" \
  -d '{"query":"SELECT * FROM tdm_data.task_1_data"}'
```

### è®¿é—®åœ°å€
- **APIæ–‡æ¡£**: http://localhost:8080/swagger-ui.html
- **MinIOæ§åˆ¶å°**: http://localhost:9001 (admin/password)
- **ClickHouse**: http://localhost:8123

## ğŸ“ è®¸å¯è¯
MIT License